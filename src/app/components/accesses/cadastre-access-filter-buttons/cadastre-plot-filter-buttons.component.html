<div class="row align-items-center mb-3">
    <div class="col-sm-12 col-md-8 col-xl-8">
      <div class="input-group" style="max-width: 280px">
        <span class="input-group-text" id="search-icon">
          <i class="bi bi-search"></i>
        </span>
        <input
          type="text"
          class="form-control"
          id="filter-text-box"
          placeholder="Buscar..."
          (input)="onFilterTextBoxChanged($event)"
          [(ngModel)]="filterText"
        />
                  <!-- Filter dropdown -->
          <div class="btn-group">
            <button 
              type="button" 
              class="btn btn-outline-info dropdown-toggle" 
              data-bs-toggle="dropdown" 
              aria-expanded="false"
            >
            <i class="bi bi-funnel-fill"></i>{{ selectedFilter ? filterTypes[selectedFilter]: '' }}
            </button>
            
            <ul class="dropdown-menu">
              <li>
                <a class="dropdown-item" (click)="clearFilters()">
                  <i class="bi bi-x-circle me-2"></i>Limpiar filtros
                </a>
              </li>
              <li><hr class="dropdown-divider"></li>
              @for (filter of availableFilters; track filter) {
                <li>
                  <a class="dropdown-item" (click)="selectFilter(filter.value)">
                    {{ filter.label }}
                  </a>
                </li>
              }
            </ul>
          </div>

          <!-- Filter value input based on selected filter type -->
          @if (selectedFilter && showFilterInput) {
            <div class="ms-3">
              @switch (filterInputType) {
                @case ('select') {
                  <select 
                    class="form-select" 
                    [(ngModel)]="filterValue"
                    (change)="applyFilter()"
                  >
                    <option value="">Seleccionar...</option>
                    @for (option of filterOptions; track option) {
                      <option [value]="option.value">{{ option.label }}</option>
                    }
                  </select>
                }
                @case ('date') {
                  <div class="d-flex align-items-center">
                    <input 
                      type="date" 
                      class="form-control me-2" 
                      [(ngModel)]="filterDateStart"
                      (change)="applyFilter()"
                    />
                    <span class="me-2">hasta</span>
                    <input 
                      type="date" 
                      class="form-control" 
                      [(ngModel)]="filterDateEnd"
                      (change)="applyFilter()"
                    />
                  </div>
                }
                @default {
                  <input 
                    type="text" 
                    class="form-control" 
                    [(ngModel)]="filterValue"
                    (input)="applyFilter()"
                    [placeholder]="'Filtrar por ' + filterTypes[selectedFilter]"
                  />
                }
              }

            </div>
          }
      </div>
    </div>
    <div
      class="col-sm-12 col-md-4 col-xl-64 text-xl-center text-center mt-3 mt-md-0 d-flex align-items-center justify-content-end"
    >
    
    <button 
    type="button" 
    class="btn btn-outline-primary d-flex align-items-center justify-content-center p-0 mx-4" 
    style="width: 35px; height: 35px;"
    (click)="redirectToForm()" 
    title="Agregar nuevo">
    <i class="bi bi-plus fs-5"></i>
  </button>



      <button
        class="btn btn-success me-2 mb-md-2 mb-xl-0 mt-2 mt-xl-0"
        (click)="exportToExcel()"
      >
        <i class="bi bi-file-earmark-excel"></i>
      </button>
      <button
        class="btn btn-danger me-2 mb-md-2 mb-xl-0 mt-2 mt-xl-0"
        (click)="exportToPdf()"
      >
        <i class="bi bi-file-earmark-pdf"></i>
      </button>
    </div>
  </div>
